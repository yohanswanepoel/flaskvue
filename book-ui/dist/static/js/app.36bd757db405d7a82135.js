webpackJsonp([1],{"1/oy":function(t,e){},GfHa:function(t,e){},Id91:function(t,e){},Jmt5:function(t,e){},"KM+2":function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("EMYi"),s=o.n(a),n=(o("Jmt5"),o("e6fC")),r=o("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var d=o("VU/8")({name:"App"},i,!1,function(t){o("KM+2")},null,null).exports,l=o("/ocq"),u=o("mtWM"),c=o.n(u),m={name:"Ping",data:function(){return{msg:""}},methods:{getMessage:function(){var t=this;c.a.get("http://python-app-myproject.192.168.42.125.nip.io/ping").then(function(e){t.msg=e.data}).catch(function(t){console.error(t)})}},created:function(){this.getMessage()}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[this._v(this._s(this.msg))])])},staticRenderFns:[]},p=o("VU/8")(m,h,!1,null,null,null).exports,b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("b-alert",{attrs:{variant:this.type,show:"",dismissible:"",fade:""}},[this._v(this._s(this.message))]),this._v(" "),e("br")],1)},staticRenderFns:[]},f={name:"Books",data:function(){return{books:[],addBookForm:{title:"",author:"",read:[]},message:"",showMessage:!1,messageType:"success"}},methods:{getBooks:function(){var t=this;c.a.get(window.API_URL+"/books").then(function(e){t.books=e.data.books}).catch(function(t){console.error(t)})},addBook:function(t){var e=this;c.a.post(window.API_URL+"/books",t).then(function(){e.getBooks(),e.message="Books Added",e.showMessage=!0,e.messageType="success"}).catch(function(t){console.log(t),e.getBooks(),e.message="Error",e.messageType="danger",e.showMessage=!0})},initForm:function(){this.addBookForm.title="",this.addBookForm.author="",this.addBookForm.read=[],this.message=!1},onSubmit:function(t){t.preventDefault(),this.$refs.addBookModal.hide();var e=!1;this.addBookForm.read[0]&&(e=!0);var o={title:this.addBookForm.title,author:this.addBookForm.author,read:e};this.addBook(o),this.initForm()},onReset:function(t){t.preventDefault(),this.$refs.addBookModal.hide(),this.initForm()}},created:function(){this.getBooks()},components:{alert:o("VU/8")({props:["message","type"]},b,!1,null,null,null).exports}},v={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-10"},[o("h1",[t._v("Books")]),t._v(" "),o("hr"),o("br"),o("br"),t._v(" "),t.showMessage?o("alert",{attrs:{message:t.message,type:t.messageType}}):t._e(),t._v(" "),o("button",{directives:[{name:"b-modal",rawName:"v-b-modal.bookmodal",modifiers:{bookmodal:!0}}],staticClass:"btn btn-success btn-sm",attrs:{type:"button"}},[t._v("Add Book")]),t._v(" "),o("br"),o("br"),t._v(" "),o("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),o("tbody",t._l(t.books,function(e,a){return o("tr",{key:a},[o("td",[t._v(t._s(e.title))]),t._v(" "),o("td",[t._v(t._s(e.author))]),t._v(" "),o("td",[e.read?o("span",[t._v("Yes")]):o("span",[t._v("No")])]),t._v(" "),t._m(1,!0)])}))])],1)]),t._v(" "),o("b-modal",{ref:"addBookModal",attrs:{id:"bookmodal",title:"Add a new book","hide-footer":""}},[o("b-form",{staticClass:"w-100",on:{submit:t.onSubmit,reset:t.onReset}},[o("b-form-group",{attrs:{id:"form-title-group",label:"Title:","label-for":"form-title-input"}},[o("b-form-input",{attrs:{id:"form-title-input",type:"text",required:"",placeholder:"Enter title"},model:{value:t.addBookForm.title,callback:function(e){t.$set(t.addBookForm,"title",e)},expression:"addBookForm.title"}})],1),t._v(" "),o("b-form-group",{attrs:{id:"form-author-group",label:"Author:","label-for":"form-author-input"}},[o("b-form-input",{attrs:{id:"form-author-input",type:"text",required:"",placeholder:"Enter author"},model:{value:t.addBookForm.author,callback:function(e){t.$set(t.addBookForm,"author",e)},expression:"addBookForm.author"}})],1),t._v(" "),o("b-form-group",{attrs:{id:"form-read-group"}},[o("b-form-checkbox-group",{attrs:{id:"form-checks"},model:{value:t.addBookForm.read,callback:function(e){t.$set(t.addBookForm,"read",e)},expression:"addBookForm.read"}},[o("b-form-checkbox",{attrs:{value:"true"}},[t._v("Read?")])],1)],1),t._v(" "),o("b-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),t._v(" "),o("b-button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("Title")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Author")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Read?")]),this._v(" "),e("th")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("button",{staticClass:"btn btn-warning btn-sm",attrs:{type:"button"}},[this._v("Update")]),this._v(" "),e("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"}},[this._v("Delete")])])}]},_=o("VU/8")(f,v,!1,null,null,null).exports;r.a.use(l.a);var g=new l.a({mode:"history",routes:[{path:"/",name:"Books",component:_},{path:"/ping",name:"Ping",component:p}]});r.a.config.productionTip=!1,r.a.use(n.a);var k=window.location.hostname;console.log(k);var w=k.substring(k.indexOf("."),k.length);if("__USE_SSO__"===window.USE_SSO&&(window.USE_SSO="no"),"default"===window.SSO_URL&&(window.SSO_URL="http://keycloak-myproject"+w+"/auth"),"default"===window.API_URL&&(window.API_URL="http://python-app-myproject"+w),"yes"===window.USE_SSO){var y={authRealm:"bookapi",authUrl:window.SSO_URL,authClientId:"vue",authRedirectUri:k};r.a.use(s.a,{config:y,init:{onLoad:"login-required"},onReady:function(t){console.log("I wonder what Keycloak returns: "+t),new r.a({el:"#app",router:g,template:"<App/>",render:function(t){return t(d)},data:{baseURL:"http://python-app-myproject.192.168.42.125.nip.io"}})}})}else new r.a({el:"#app",router:g,components:{App:d},template:"<App/>",data:{baseURL:"http://python-app-myproject.192.168.42.125.nip.io"}})},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.36bd757db405d7a82135.js.map